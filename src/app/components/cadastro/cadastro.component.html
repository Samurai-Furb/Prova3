<section class="cadastro-page">
  <h2>API RESTful - Avaliação 3</h2>

  <div class="card-box">
    <h3>Consultar Funcionário</h3>
    <div class="input-group">
      <label for="idBusca">ID Numérico:</label>
      <input id="idBusca" type="number" [(ngModel)]="idBusca" name="idBusca" placeholder="Informe o ID">
      <button (click)="consultar()" class="btn-consultar">Consultar</button>
    </div>
  </div>

  <div class="card-box" *ngIf="funcionario.id">
    <h3>Dados do Funcionário</h3>
    
    <div class="display-fields">
      <div class="field">
        <strong>ID:</strong> 
        <input readonly [value]="funcionario.id" name="exibicaoId" title="ID do Funcionário">
      </div>
      <div class="field">
        <strong>Nome:</strong> 
        <input readonly [value]="funcionario.nome" name="exibicaoNome" title="Nome do Funcionário">
      </div>
      <div class="field">
        <strong>Departamento:</strong> 
        <input readonly [value]="funcionario.departamento" name="exibicaoDepto" title="Departamento">
      </div>
      <div class="field">
        <strong>Endereço:</strong> 
        <input readonly [value]="funcionario.endereco" name="exibicaoEndereco" title="Endereço">
      </div>
      <div class="field">
        <strong>E-mail:</strong> 
        <input readonly [value]="funcionario.email" name="exibicaoEmail" title="E-mail">
      </div>
    </div>

    <button (click)="excluir()" class="btn-excluir">Exclusão</button>
  </div>

  <div *ngIf="mensagem" 
       class="feedback-msg" 
       [ngClass]="{'bg-green': status === 'Ok', 'bg-red': status === 'Erro'}">
    <strong>Status:</strong> {{ status }} <br>
    <strong>Mensagem:</strong> {{ mensagem }}
  </div>

  <div class="card-box" *ngIf="funcionario.id">
    <h3>Alterar Cadastro</h3>
    <div class="form-grid">
      <label for="altId">ID (Fixo):</label>
      <input id="altId" readonly [(ngModel)]="funcionario.id" name="altId" class="readonly">

      <label for="altNome">Nome:</label>
      <input id="altNome" [(ngModel)]="funcionario.nome" name="altNome">

      <label for="altDepartamento">Departamento:</label>
      <input id="altDepartamento" [(ngModel)]="funcionario.departamento" name="altDepartamento">

      <label for="altEndereco">Endereço:</label>
      <input id="altEndereco" [(ngModel)]="funcionario.endereco" name="altEndereco">

      <label for="altEmail">E-mail:</label>
      <input id="altEmail" [(ngModel)]="funcionario.email" name="altEmail">
    </div>
    <button (click)="alterar()" class="btn-alterar">Alterar</button>
  </div>

  <hr>

  <div class="card-box">
    <h3>Cadastrar Novo Funcionário</h3>
    <div class="form-grid">
      <label for="novoId">ID (Opcional/API):</label>
      <input id="novoId" type="number" [(ngModel)]="novoFuncionario.id" name="novoId" placeholder="Geralmente automático">

      <label for="novoNome">Nome:</label>
      <input id="novoNome" [(ngModel)]="novoFuncionario.nome" name="novoNome">

      <label for="novoDepartamento">Departamento:</label>
      <input id="novoDepartamento" [(ngModel)]="novoFuncionario.departamento" name="novoDepartamento">

      <label for="novoEndereco">Endereço:</label>
      <input id="novoEndereco" [(ngModel)]="novoFuncionario.endereco" name="novoEndereco">

      <label for="novoEmail">E-mail:</label>
      <input id="novoEmail" [(ngModel)]="novoFuncionario.email" name="novoEmail">
    </div>
    <button (click)="cadastrar()" class="btn-cadastrar">Cadastrar</button>
  </div>

</section>